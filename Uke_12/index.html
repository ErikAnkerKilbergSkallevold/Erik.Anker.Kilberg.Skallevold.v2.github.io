<!DOCTYPE html>
<html lang="nb" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Dataspess</title>
    <link rel="stylesheet" href="style.css">

    <script src="https://www.gstatic.com/firebasejs/5.9.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyA_zXyJ6kEYgdf45eOz3qNZkGUFcbz0JJs",
        authDomain: "portefolje-5a496.firebaseapp.com",
        databaseURL: "https://portefolje-5a496.firebaseio.com",
        projectId: "portefolje-5a496",
        storageBucket: "portefolje-5a496.appspot.com",
        messagingSenderId: "921169348074"
      };
      firebase.initializeApp(config);
    </script>

  </head>
  <header>
    <nav>
      <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a class="button" href="hjem.html">Hjem</a>
        <a class="button active" href="index.html">Datadeler</a>
        <a class="button" href="salg.html">Salg</a>
        <a class="button" href="chat.html">Kontakt oss</a>
      </div>
    </nav>
  </header>
  <body id="body">
      <span class="sticky" style="font-size:30px;cursor:pointer" onclick="openNav()"><img style="width: 15%;" src="bilder4x\Hamburgermeny.png" id="Hamburger" alt="Hamburgermeny"></span>
    <div class="banner">
    <a href="index.html"><img class="" src="bilder4x\Komplett banner.png" alt="Dataspess banner"></a>
    </div>

<div class="dropdowndiv" id="openDrop">
    <div class="dropdown">
      <button onclick="{myFunction()} {openDrop()}" class="dropbtn">Søk kategori &#9776;</button>
        <div id="myDropdown" class="dropdown-content">
          <input type="text" placeholder="Søk... (veldig spesifikk)" id="myInput" onkeyup="filterFunction()">
            <div class="gridsøk">
              <button class="button1" type="button" onclick="visCPU()" name="button"> <img class="buttonimg" src="bilder4x\chip.png" alt="CPU"> <p class="buttontekst">CPU</p> </button> <!-- Gjør ferdig koblingene for alle knappene -->
              <button class="button1" type="button" onclick="visGPU()" name="button"> <img class="buttonimg" src="bilder4x\grafikkort.png" alt="GPU"><p class="buttontekst">GPU</p> </button> <!-- Gjør ferdig koblingene for alle knappene -->
              <button class="button1" type="button" onclick="visRAM()" name="button"> <img class="buttonimg" src="bilder4x\minne.png" alt="RAM"> <p class="buttontekst">RAM</p></button> <!-- Gjør ferdig koblingene for alle knappene -->
              <button class="button1" type="button" onclick="visHDD()" name="button"> <img class="buttonimg" src="bilder4x\harddisk.png" alt="HDD"> <p class="buttontekst">Harddisk</p></button> <!-- Gjør ferdig koblingene for alle knappene -->
              <button class="button1" type="button" onclick="visSSD()" name="button"> <img class="buttonimg" src="bilder4x\harddisk_ssd.png" alt="SSD"><p class="buttontekst">SSD</p> </button> <!-- Gjør ferdig koblingene for alle knappene -->
              <button class="button1" type="button" onclick="visMOBO()" name="button"> <img class="buttonimg" src="bilder4x\moderkort.png" alt="MOBO"><p class="buttontekst">Hovedkort</p> </button> <!-- Gjør ferdig koblingene for alle knappene -->
              <button class="button1" type="button" onclick="visCase()" name="button"> <img class="buttonimg" src="bilder4x\dator_chassi.png" alt="Case"><p class="buttontekst">Kabinett</p> </button> <!-- Gjør ferdig koblingene for alle knappene -->
              <button class="button1" type="button" onclick="visPSU()" name="button"> <img class="buttonimg" src="bilder4x\natagg.png" alt="PSU"><p class="buttontekst">Strømforsyning</p> </button> <!-- Gjør ferdig koblingene for alle knappene -->
              <button class="button1" type="button" onclick="visKjoler()" name="button"> <img class="buttonimg" src="bilder4x\kylning.png" alt="Kylning"> <p class="buttontekst">Kjøler</p></button> <!-- Gjør ferdig koblingene for alle knappene -->
            </div>
        </div>
      </div>
  </div>
</div>


    <main id="main">

    </main>


    <script>

    function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}

function filterFunction() {
  var input, filter, ul, li, a, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  div = document.getElementById("myDropdown");
  a = div.getElementsByClassName("button1");
  for (i = 0; i < a.length; i++) {
    txtValue = a[i].textContent || a[i].innerText;
    if (txtValue.toUpperCase().indexOf(filter) > -1) {
      a[i].style.display = "";
    } else {
      a[i].style.display = "none";
    }
  }
}



    function openNav() {
      document.getElementById("mySidenav").style.width = "250px";
      document.getElementById("body").style.marginLeft = "250px";
      document.getElementById("Hamburger").style.display = "none";
      document.body.style.backgroundColor = "white";
    }

    /* Set the width of the side navigation to 0 and the left margin of the page content to 0, and the background color of body to white */
    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
      document.getElementById("body").style.marginLeft = "0";
      document.getElementById("Hamburger").style.display = "";
      document.body.style.backgroundColor = "white";
    }

    function openDrop() {
      document.getElementById("dropdowndiv").style.marginBottom = "250px";
      document.getElementById("main").style.paddingTop = "250px";
    }
    const main = document.querySelector("main");

    //Skriv referanser til database under her:
    const db = firebase.database();
    const Datadeler =db.ref("Datadeler");
    const CPU = db.ref("Datadeler/CPU");
    const GPU = db.ref("Datadeler/GPU");
    const SSD = db.ref("Datadeler/SSD");
    const HDD = db.ref("Datadeler/HDD");
    const Case = db.ref("Datadeler/Case");
    const PSU = db.ref("Datadeler/PSU");
    const Kjoler = db.ref("Datadeler/Kjoler");
    const MOBO = db.ref("Datadeler/MOBO");
    const RAM = db.ref("Datadeler/RAM");
    // Javascript-funksjon for å generere HTML-kode for Dyr
    function genererHTML(snapshot){
      const Data = snapshot.val();
      const key = snapshot.key;
      let parent = snapshot.ref.parent.key;
      let urlId = parent + "/" + key;
      main.innerHTML +=`
          <article id="Datadel"class="Datadeler">
          <a href="Datadel.html?id=${urlId}">
             <div class="border">
                <img class="vareimg" src="${Data.Bilde}" alt="">
                <h1>${Data.Navn}</h1>
                <span class="pris"> ${Data.forPris},- </span>
            </div>
          </a>


          </article>
      `;
    }

    // Funksjon som viser alle Dyr
    function visAlle(){
      main.innerHTML = ""; // sletter innholdet i main.
      GPU.on("child_added", genererHTML);
      CPU.on("child_added", genererHTML);
      SSD.on("child_added", genererHTML);
      HDD.on("child_added", genererHTML);
      Case.on("child_added", genererHTML);
      MOBO.on("child_added", genererHTML);
      Kjoler.on("child_added", genererHTML);
      PSU.on("child_added", genererHTML);
      RAM.on("child_added", genererHTML);
    }
    function visCPU(){
      main.innerHTML = ""; // sletter innholdet i main
      CPU
        .orderByChild("Pris")
        .on("child_added", genererHTML);
    }
    function visGPU(){
      main.innerHTML = ""; // sletter innholdet i main
      GPU
        .orderByChild("Pris")
        .on("child_added", genererHTML);
    }

    function visSSD(){
      main.innerHTML = ""; // sletter innholdet i main
      SSD
        .orderByChild("Pris")
        .on("child_added", genererHTML);
    }

    function visHDD(){
      main.innerHTML = ""; // sletter innholdet i main
      HDD
        .orderByChild("Pris")
        .on("child_added", genererHTML);
    }

    function visRAM(){
      main.innerHTML = ""; // sletter innholdet i main
      RAM
        .orderByChild("Pris")
        .on("child_added", genererHTML);
    }
    function visPSU(){
      main.innerHTML = ""; // sletter innholdet i main
      PSU
        .orderByChild("Pris")
        .on("child_added", genererHTML);
    }
    function visCase(){
      main.innerHTML = ""; // sletter innholdet i main
      Case
        .orderByChild("Pris")
        .on("child_added", genererHTML);
    }
    function visKjoler(){
      main.innerHTML = ""; // sletter innholdet i main
      Kjoler
        .orderByChild("Pris")
        .on("child_added", genererHTML);
    }
    function visMOBO(){
      main.innerHTML = ""; // sletter innholdet i main
      MOBO
        .orderByChild("Pris")
        .on("child_added", genererHTML);
    }


    visAlle(); // Funksjon som kjøres når siden lastes
    </script>

    <script type="jQuery">
    {{if objekt.Grensesnitt === undefined}}
      <p>Grensesnitt: ${objekt.Grensesnitt}</p>
    {{/if}}
    </script>



    <footer>
        <div class="footertekst">
          <p>Vi i Dataspess stiller alltid de høyeste forventningen til produktene våre og sørger for at de er av ypperste kvalitet.</p>
          <p>Hvis produktet skulle ha ett problem, vær så snill å kontakt oss.</p>
        </div>
          <div class="Kontakt">
            <p>E-post (24/7): kundeservice@dataspess.no</p>
            <br>
            <p>Telefon (08:30-17:00): 96541289</p>
            <br>
            <p>Faks (24/7): 95541289</p>
          </div>
    </footer>

  </body>
</html>
