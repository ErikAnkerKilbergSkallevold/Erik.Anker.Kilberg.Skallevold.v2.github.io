<!DOCTYPE html>
<html lang="no" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Dataspess</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/5.9.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyA_zXyJ6kEYgdf45eOz3qNZkGUFcbz0JJs",
        authDomain: "portefolje-5a496.firebaseapp.com",
        databaseURL: "https://portefolje-5a496.firebaseio.com",
        projectId: "portefolje-5a496",
        storageBucket: "portefolje-5a496.appspot.com",
        messagingSenderId: "921169348074"
      };
      firebase.initializeApp(config);
    </script>
  </head>
  <header>
    <nav>
      <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a class="button active" href="index.html">Hjem</a>
        <a class="button" href="#">Datadeler</a>
        <a class="button" href="#">Salg</a>
        <a class="button" href="#">Om oss</a>
      </div>
    </nav>
  </header>
  <body id="body">
      <span class="sticky" style="font-size:30px;cursor:pointer" onclick="openNav()"><img src="bilder\Hamburgermeny.png" id="Hamburger" alt="Hamburgermeny"></span>
    <div class="bannerdatadel">
    <a href="index.html"><img class="" src="bilder\Komplett banner.png" alt="Dataspess banner"></a>
    </div>

    <main>

    </main>

    <script type="text/javascript">



    function openNav() {
      document.getElementById("mySidenav").style.width = "250px";
      document.getElementById("body").style.marginLeft = "250px";
      document.getElementById("Hamburger").style.display = "none";
      document.body.style.backgroundColor = "white";
    }

    /* Set the width of the side navigation to 0 and the left margin of the page content to 0, and the background color of body to white */
    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
      document.getElementById("body").style.marginLeft = "0";
      document.getElementById("Hamburger").style.display = "";
      document.body.style.backgroundColor = "white";
    }


      //refereanser til HTML elementer
      const main = document.querySelector("main");

      //koden som henter key fra forrige side
      let url_string = window.location.href;
      let url = new URL(url_string);
      let id = url.searchParams.get("id");

      console.log(id);

      const db = firebase.database();
      const Datadeler = db.ref("Datadeler");
      const valgtDatadel = db.ref("Datadeler/" + id);


      function visDatadel(snap){
        let key = snap.key;
        let objekt = snap.val();
        console.log(objekt);

        nyArtikkel = document.createElement("article");
        nyArtikkel.setAttribute("class","valgtMain")


        nyArtikkel.innerHTML += `
          <div class="gridperma">
          <h1>${objekt.Navn}</h1>
          <h3>${objekt.Merke}</h3>
          <img src="${objekt.Bilde}" alt="Bilde av produkt"/>
          <b>Kr,- ${objekt.Pris}</b>
          </div>
          `



        if(objekt.Grensesnitt){
          nyArtikkel.innerHTML += `
              <p>Grensesnitt: ${objekt.Grensesnitt}</p>
          `;
        }

        if(objekt.Hastighet){
          nyArtikkel.innerHTML += `
          <div class="gridmidler">
            <p> ${objekt.Hastighet}GHz </p>
          </div>

          `;
        }

        if(objekt.Kjerner){
          nyArtikkel.innerHTML += `
              <p> ${objekt.Kjerner} Kjerner</p>
          `;
        }

        if(objekt.Trader){
          nyArtikkel.innerHTML += `
              <p>${objekt.Trader} Tr√•der</p>
          `;
        }

        if(objekt.Minne){
          nyArtikkel.innerHTML += `
              <p> ${objekt.Minne} GB</p>
          `;
        }

        if(objekt.Type){
          nyArtikkel.innerHTML += `
              <p> ${objekt.Type}</p>
          `;
        }

        main.append(nyArtikkel);

      }

      function visDatadel2(snap){
        console.log(snap.val());
      }


      valgtDatadel.on("value",visDatadel);



    </script>
  </body>
</html>
